<?xml version="1.0" encoding="UTF-8"?>
<!-- Maple Tree Asset Definition
     Procedural tree using shared Lua generator.
     Script path uses @shared/ prefix for shared scripts folder.
-->
<AssetDefinitions>
  <AssetDef>
    <defName>Flora_TreeMaple</defName>
    <label>Maple Tree</label>
    <assetType>procedural</assetType>

    <generator>
      <!-- Shared script using @shared/ prefix -->
      <scriptPath>@shared/deciduous.lua</scriptPath>
      <params>
        <!-- Trunk dimensions in meters (scaled for top-down game view) -->
        <trunkHeight>1.2</trunkHeight>
        <trunkWidth>0.15</trunkWidth>
        <!-- Canopy radius in meters -->
        <canopyRadius>0.6</canopyRadius>
        <!-- Number of visible branches -->
        <branchCount>3</branchCount>
      </params>
    </generator>

    <rendering>
      <!-- Trees are complex assets (individual tessellation) -->
      <complexity>complex</complexity>
      <!-- Batched rendering for multiple variants -->
      <tier>batched</tier>
    </rendering>

    <!-- No animation for now (trees sway is future work) -->

    <!-- Per-biome placement configuration -->
    <placement>
      <!-- Forest: Common, spaced out -->
      <biome name="Forest">
        <spawnChance>0.05</spawnChance>
        <distribution>spaced</distribution>
        <spacing>
          <minDistance>5.0</minDistance>
        </spacing>
      </biome>

      <!-- Grassland: Occasional, well-spaced -->
      <biome name="Grassland">
        <spawnChance>0.01</spawnChance>
        <distribution>spaced</distribution>
        <spacing>
          <minDistance>12.0</minDistance>
        </spacing>
      </biome>

      <!-- Groups this asset belongs to -->
      <groups>
        <group>trees</group>
        <group>deciduous_trees</group>
        <group>maple_trees</group>
        <group>large_flora</group>
      </groups>

      <!-- Relationships with other entities -->
      <relationships>
        <!-- Maples avoid spawning too close to other maples -->
        <avoids type="same" distance="4.0" penalty="0.1"/>
        <!-- Maples slightly avoid other tree types for variety -->
        <avoids group="trees" distance="3.0" penalty="0.5"/>
      </relationships>
    </placement>

    <!-- Pre-generate multiple variants for variety -->
    <variantCount>20</variantCount>
  </AssetDef>
</AssetDefinitions>
